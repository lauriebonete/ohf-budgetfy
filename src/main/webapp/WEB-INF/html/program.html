<!doctype html>
<html class="no-js" lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home - Expense Tracker</title>
    <link rel="stylesheet" href="css/foundation.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link rel="stylesheet" href="css/selectize.default.css">

    <script src="js/jquery3.min.js"></script>
    <script src="js/angular.js"></script>
    <script src="js/selectize.min.js"></script>
    <script src="js/angular-selectize.js"></script>
    <script src="angular/budgetfy-angular.js"></script>

  </head>
  <body ng-app="budgetfyApp" ng-controller="programController">
    <!-- Header: Start-->
    <section id="header">
      <div class="row">
        <div class="small-6 columns text-left">
          <a class="button" href="home.html">Programs</a>        
          <a class="button">Expense</a>
          <a class="button">Reports</a>
        </div>
        <div class="small-6 columns text-right">
          <a class="button"><i class="fa fa-cog"></i></a>
          <a class="button"><i class="fa fa-exclamation"></i></a>
          <a class="button"><i class="fa fa-user"></i></a>
        </div>
      </div>
      <div class="success progress">
          <div class="progress-meter"></div>
        </div>
    </section>
    <!-- Header: End-->

    <section id="site-content">
      <div id="create-program-form-container">  
        <form data-abide>
          <!-- Program Details: Start-->
          <div id="program-details">
            <div class="row">
              <div class="small-12 columns end">
                <h5 class="text-left"><strong>Program Details</strong></h5>
              </div>
            </div>
            <div class="row">
              <div class="small-3 columns">
                <label for="program-name" class="text-right middle">Program Name</label>
              </div>
              <div class="small-7 columns end">
                <input type="text" id="program-name" placeholder="Program Name" name="programName">
              </div>
            </div>
            <div class="row">
              <div class="small-3 columns">
                <label for="total-budget" class="text-right middle">Total Budget</label>
              </div>
              <div class="small-7 columns end">
                <input type="text" id="total-budget" placeholder="Total Budget" name="totalBudget" required>
              </div>
              <span class="form-error">
                Yo, you had better fill this out, it's required.
              </span>
            </div>
            <div class="row">
              <div class="small-3 columns">
                <label for="percentage" class="text-right middle">Critical Level %</label>
              </div>
              <div class="small-1 columns">
                <input type="number" id="percentage" name="percentage" placeholder="%">
              </div>
              <div class="small-6 columns end">
                <input type="text" id="threshold" name="threshold" disabled>
              </div>
            </div>
            <div class="row">
              <div class="small-3 columns">
                <label for="middle-label" class="text-right middle">Duration</label>
              </div>          
              <div class="small-1 columns">
                <label for="program-start" class="text-right middle">From</label>
              </div>
              <div class="small-2 columns">
                <input type="date" id="program-start" placeholder="" name="programStart">
              </div>
              <div class="small-1 columns">
                <label for="program-end" class="text-right middle">To</label>
              </div>
              <div class="small-2 columns end">
                <input type="date" id="program-end" placeholder="" name="programEnd">
              </div>
            </div>
            
            <div class="row">
              <div class="small-3 columns">
                <a class="button alert float-right program-detail-nav-prev">Back</a>        
              </div>
              <div class="small-7 columns end">
                <a class="button success float-right program-detail-nav-next">Next</a>
              </div>
            </div>
          </div>            
          <!-- Program Details: End-->

          <!-- Manage Team: Start -->
          <div id="program-team">
            <div class="row">
              <div class="small-12 columns end">
                <h5 class="text-left"><strong>Manage Team</strong></h5>
              </div>
            </div>
            <div class="row">
              <div class="small-5 columns">
                  <label for="middle-label" class="middle"></label>
              </div>
              <div class="small-1 columns">
                <h6><strong>Read</strong></h6>
              </div>
              <div class="small-1 columns">
                <h6><strong>Write</strong></h6>
              </div>
              <div class="small-1 columns">
                <h6><strong>Update</strong></h6>
              </div>
              <div class="small-1 columns end">
                <h6><strong>Delete</strong></h6>
              </div>
            </div>
            <div class="row">
              <div class="small-2 columns">
                  <label for="middle-label" class="text-left middle"></label>
              </div>
              <div class="small-3 columns">
                  <label for="middle-label">superadmin</label>
              </div>
              <div class="small-1 columns text-center">
                 <input id="checkbox1" type="checkbox" ><label for="checkbox1"></label>
              </div>
              <div class="small-1 columns text-center">
                 <input id="checkbox1" type="checkbox"><label for="checkbox1"></label>
              </div>
              <div class="small-1 columns text-center">
                 <input id="checkbox1" type="checkbox"><label for="checkbox1"></label>
              </div>
              <div class="small-1 columns text-center">
                 <input id="checkbox1" type="checkbox"><label for="checkbox1"></label>
              </div>
              <div class="small-1 columns end">
                <a class="button alert float-right"><i class="fa fa-minus"></i></a>
              </div>
            </div>
            <div class="row">
              <div class="small-2 columns">
                <label for="middle-label" class="text-left middle"></label>                
              </div>
              <div class="small-3 columns">
                <label for="middle-label">auditor</label>  
              </div>
              <div class="small-1 columns text-center">
                 <input id="checkbox1" type="checkbox"><label for="checkbox1"></label>
              </div>
              <div class="small-1 columns text-center">
                 <input id="checkbox1" type="checkbox"><label for="checkbox1"></label>
              </div>
              <div class="small-1 columns text-center">
                 <input id="checkbox1" type="checkbox"><label for="checkbox1"></label>
              </div>
              <div class="small-1 columns text-center">
                 <input id="checkbox1" type="checkbox"><label for="checkbox1"></label>
              </div>
              <div class="small-1 columns end">
                <a class="button alert float-right"><i class="fa fa-minus"></i></a>
              </div>
            </div>
            <div class="row">
              <div class="small-2 columns">
                <label for="middle-label" class="text-left middle"></label>                
              </div>
              <div class="small-3 columns">
                <selectize data-list="false" data-attr="id" config='userSelectConfig' options='allUsersList' ng-model="userSelectizeModel"></selectize>
              </div>
              <div class="small-1 columns text-center">
                 <input id="checkbox1" type="checkbox"><label for="checkbox1"></label>
              </div>
              <div class="small-1 columns text-center">
                 <input id="checkbox1" type="checkbox"><label for="checkbox1"></label>
              </div>
              <div class="small-1 columns text-center">
                 <input id="checkbox1" type="checkbox"><label for="checkbox1"></label>
              </div>
              <div class="small-1 columns text-center">
                 <input id="checkbox1" type="checkbox"><label for="checkbox1"></label>
              </div>
              <div class="small-1 columns end">
                <a class="button success float-right"><i class="fa fa-plus"></i></a>
              </div>
            </div>
            
            <div class="row">
              <div class="small-3 columns">
                <a class="button alert float-right program-team-nav-prev">Back</a>        
              </div>
              <div class="small-7 columns end">
                <a class="button success float-right program-team-nav-next">Next</a>
              </div>
            </div> 
          </div>            
          <!-- Manage Team: End -->      

          <!-- Activity Details: Start-->
          <div id="program-activity">
            <div class="row">
              <div class="small-12 columns end">
                <h5 class="text-left"><strong>Manage Activities</strong></h5>
              </div>
            </div>
            <div class="row">
              <div class="small-3 columns">
                <label for="middle-label" class="text-right middle">Activity Name</label>
              </div>
              <div class="small-7 columns end">
                <input type="text" id="middle-label" placeholder="Activity Name">
              </div>
            </div>
            <div class="row">
              <div class="small-3 columns text-right">
                <label for="middle-label" class="middle">Budget</label>
              </div>
              <div class="small-3 columns">
                <input type="number" id="middle-label" placeholder="Budget">
              </div>
              <div class="small-2 columns">
                <label for="middle-label" class="text-right middle">Activity Type</label>
              </div>
              <div class="small-2 columns end text-right">
                <button class="dropdown button">Activity Type</button>
              </div>
            </div>
            <div class="row">
              <div class="small-6 columns text-right">
                <label for="middle-label" class="middle"></label>
              </div>
              <div class="small-2 columns text-right">
                <label for="middle-label" class="middle">Total Budget</label>
              </div>
              <div class="small-2 columns text-right end">
                <input type="number" id="middle-label" placeholder="Total Budget" disabled>
              </div>
            </div>
            <div class="row">
              <div class="small-6 small-centered columns">
                <a class="button success expanded ">Add Activity <i class="fa fa-plus"></i></a>        
              </div>
            </div>

            <!-- Activty Table List: Start -->
            <div class="row">
              <div class="small-12 columns">
                <table id="activity-result">
                  <thead>
                    <tr>
                      <th>Activity Name</th>
                      <th>Type</th>
                      <th>Budget</th>
                      <th>Budget</th>
                    </tr>
                  </thead>  
                  <tbody>
                    <tr>
                      <td>Land and Transportation</td>
                      <td>Type 1</td>
                      <td>80,000</td>
                      <td>
                        <a class="button alert"><i class="fa fa-minus"></i></a> 
                      </td>
                    </tr>
                    <tr>
                      <td>Training</td>
                      <td>Type 1</td>
                      <td>80,000</td>
                      <td>
                        <a class="button alert"><i class="fa fa-minus"></i></a> 
                      </td>
                    </tr>
                  </tbody>  
                </table>      
              </div>
            </div>
            <ul class="pagination text-center" role="navigation" aria-label="Pagination">
              <li class="pagination-previous disabled">Previous</li>
              <li class="current"><span class="show-for-sr">You're on page</span> 1</li>
              <li><a href="#" aria-label="Page 2">2</a></li>
              <li><a href="#" aria-label="Page 3">3</a></li>
              <li><a href="#" aria-label="Page 4">4</a></li>
              <li class="ellipsis"></li>
              <li><a href="#" aria-label="Page 12">12</a></li>
              <li><a href="#" aria-label="Page 13">13</a></li>
              <li class="pagination-next"><a href="#" aria-label="Next page">Next</a></li>
            </ul>
            <!-- Activty Table List: End -->

            <div class="row">
              <div class="small-3 columns">
                <a class="button alert float-right program-activity-nav-prev">Back</a>        
              </div>
              <div class="small-7 columns end">
                <a class="button success float-right program-activity-nav-next" id="next-to-summary">Next</a>
              </div>
            </div>
          </div>
          <!-- Activity Details: End-->

          <!-- Summary Details: Start-->
          <div id="program-summary">
            <div class="row">
              <div class="small-12 columns end">
                <h5 class="text-left"><strong>Program Summary</strong></h5>
              </div>
            </div>

            <div class="row">
              <strong>Program Details</strong>
              <table>
                <tr>
                    <div class="row">
                    <div class="small-6 columns">Program Name</div>
                    <div class="small-6 columns end"><span id="program-name-summary"></span></div>
                    </div>
                    <div class="row">
                    <div class="small-6 columns">Total Budget</div>
                    <div class="small-6 columns end"><span id="total-budget-summary"></span></div>
                    </div>
                    <div class="row">
                    <div class="small-6 columns">Critical Level</div>
                    <div class="small-6 columns end"><span id="threshold-summary"></span></div>
                    </div>
                    <div class="row">
                    <div class="small-6 columns">Duration</div>
                    <div class="small-6 columns end"><span id="duration-summary"></span></div>
                    </div>
                  </td>  
                </tr> 
              </table>      
            </div>
            <div class="row">
              <strong>Team Details</strong>
              <table>
                <tr>
                  <td>
                     <div class="row">
                      <div class="small-6 columns">super admin</div>
                      <div class="small-6 columns end">read, write, update, delete</div>
                     </div>
                     <div class="row">
                      <div class="small-6 columns">auditor</div>
                      <div class="small-6 columns end">read, write, update,</div>
                     </div>
                     <div class="row">
                      <div class="small-6 columns">reviewer</div>
                      <div class="small-6 columns end">read</div>
                     </div>
                  </td>   
                </tr> 
              </table>    
            </div>
            <div class="row">
              <strong>Activity Details</strong>
              <table>
                <tr>
                  <td>
                     <div class="row">
                      <div class="small-6 columns">Activity Name</div>
                      <div class="small-6 columns end">Laguna Teaching Program</div>
                     </div>
                     <div class="row">
                      <div class="small-6 columns">Total Budget</div>
                      <div class="small-6 columns end">50,000.00 PHP</div>
                     </div>
                     <div class="row">
                      <div class="small-6 columns">Type</div>
                      <div class="small-6 columns end">Activity Type</div>
                     </div>
                   </td>  
                </tr>
                <tr>
                  <td>
                     <div class="row">
                      <div class="small-6 columns">Activity Name</div>
                      <div class="small-6 columns end">Fairview Teaching Program</div>
                     </div>
                     <div class="row">
                      <div class="small-6 columns">Total Budget</div>
                      <div class="small-6 columns end">85,000.00 PHP</div>
                     </div>
                     <div class="row">
                      <div class="small-6 columns">Type</div>
                      <div class="small-6 columns end">Activity Type</div>
                     </div>
                   </td>
                </tr>
              </table>  
            </div>

            <div class="row">
              <div class="small-3 columns">
                <a class="button alert float-right program-summary-nav-prev">Back</a>        
              </div>
              <div class="small-7 columns end">
                <a class="button success float-right program-summary-nav-next" id="create-program">Finish</a>
              </div>
            </div>
          </div>
          <!-- Summary Details: End-->

        </form>
      </div>
    </section>
  </body>
  <footer>
    <script src="js/vendor/what-input.js"></script>
    <script src="js/vendor/foundation.min.js"></script>
    <script src="js/ohf-budgetfy-js.js"></script>

    <script type="text/javascript">
      $(document).ready(function(){

      }).on("click","#next-to-summary",function(){
        var programName = $("#program-name").val();
        var totalBudget = $("#total-budget").val();
        var threshold = $("#threshold").val();
        var programStart = $("#program-start").val();
        var programEnd = $("#program-end").val();

        $("#program-name-summary").text(programName);
        $("#total-budget-summary").text(totalBudget +" PHP");
        $("#threshold-summary").text(threshold + " PHP");
        $("#duration-summary").text(programStart + " to " + programEnd);
      }).on("change", "#percentage, #total-budget", function(){
        var percentage = $("#percentage").val();
        var totalBudget = $("#total-budget").val().replace(/,/g, '');
        if(percentage!=null && percentage!=undefined && percentage!="" &&
                totalBudget!=null && totalBudget!=undefined && totalBudget!=""){
          $("#threshold").val(addThousandsSeparator(totalBudget*(percentage/100)));
        } else {
          $("#threshold").val("");
        }
      }).on("keyup", "#total-budget", function(){
        $(this).val(addThousandsSeparator($(this).val()));
        $(this).trigger("change");
      });

      function addThousandsSeparator(input) {
        var output = input.toString().replace(/,/g, '');
        return (output.toString()).replace(
                /^([-+]?)(0?)(\d+)(.?)(\d+)$/g, function(match, sign, zeros, before, decimal, after) {
                  var reverseString = function(string) { return string.split('').reverse().join(''); };
                  var insertCommas  = function(string) {
                    var reversed = reverseString(string);
                    var reversedWithCommas = reversed.match(/.{1,3}/g).join(',');
                    return reverseString(reversedWithCommas);
                  };
                  return sign + (decimal ? insertCommas(before) + decimal + after : insertCommas(before + after));
                }
        );
      }
    </script>
  </footer>
</html>
