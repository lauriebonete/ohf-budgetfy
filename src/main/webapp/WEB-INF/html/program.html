<!doctype html>
<html class="no-js" lang="en" dir="ltr">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Expense Tracker</title>

        <link rel="stylesheet" href="css/foundation.min.css">
        <link rel="stylesheet" href="css/style.css">
        <link rel="stylesheet" href="css/font-awesome.min.css">
        <link rel="stylesheet" href="css/motion-ui.min.css">
        <link rel="stylesheet" href="css/selectize.default.css">

        <script src="js/jquery3.min.js"></script>
        <script src="js/angular.js"></script>
        <script src="js/selectize.min.js"></script>
        <script src="js/angular-selectize.js"></script>
        <script src="angular/budgetfy-angular.js"></script>
        <script src="angular/dirPagination.js"></script>
    </head>
    <body ng-app="budgetfyApp" ng-controller="programController">
        <section id="header">
            <div class="row">
                <div class="small-6 columns text-left">
                    <a class="button" href="/budgetfy/program">Programs</a>
                    <a class="button" href="/budgetfy/expense">Expense</a>
                    <a class="button">Reports</a>
                </div>
                <div class="small-6 columns text-right">
                    <a class="button"><i class="fa fa-cog"></i></a>
                    <a class="button"><i class="fa fa-exclamation"></i></a>
                    <a class="button"><i class="fa fa-user"></i></a>
                </div>
            </div>
        </section>

        <section id="site-content">
            <div id="home-page">
                <div class="row">
                    <div class="small-5 columns text-left">
                        <a class="button success" href="/budgetfy/program/create-program">Create Program <i class="fa fa-plus"></i></a>
                    </div>
                    <div class="small-5 columns text-right">
                        <div class="input-group">
                            <input class="input-group-field" type="text" ng-model="programFilter">
                            <div class="input-group-button">
                                <input type="submit" class="button" value="Search">
                            </div>
                        </div>
                    </div>
                    <div class="small-2 columns text-right">
                        <select>
                            <option value="2016">2016</option>
                            <option value="2015">2015</option>
                            <option value="2014">2014</option>
                        </select>
                    </div>
                </div>


              <!-- Program Table List: Start -->
              <div class="row">
                  <div class="small-12 columns">
                      <table id="programs-result" class="hover">
                          <thead>
                            <tr>
                                <th>Program Name</th>
                                <th>Total Budget</th>
                                <th>Duration</th>
                            </tr>
                          </thead>
                          <tbody ng-init="loadPrograms()">
                            <tr class="row-onclick" dir-paginate="program in programList | filter : programFilter | itemsPerPage: programMaxSize" pagination-id="program-list" data-program="{{program.id}}" ng-click="viewProgram(program.id)">
                                <td>{{program.programName}}</td>
                                <td>{{program.displayProgramBudget}}</td>
                                <td>{{program.displayProgramDuration}}</td>
                            </tr>
                          </tbody>
                      </table>
                  </div>
              </div>
              <ul class="pagination text-center" role="navigation" aria-label="Pagination">
                  <dir-pagination-controls pagination-id="program-list" boundary-links="true"></dir-pagination-controls>
              </ul>
            </div>
              <!-- Program Table List: End -->


            <div id="view-program" class="row collapse hide">
                <div class="medium-2 columns">
                    <ul class="tabs vertical" id="program-tabs" data-tabs>
                        <li class="tabs-title is-active"><a class="button" href="#dashboard" aria-selected="true"><strong><i class="fa fa-bar-chart" aria-hidden="true"></i> Dashboard</strong></a></li>
                        <li class="tabs-title"><a class="button" href="#budget"><strong><i class="fa fa-calendar" aria-hidden="true"></i> Budget</strong></a></li>
                        <li class="tabs-title"><a class="button" href="#expense"><strong><i class="fa fa-money" aria-hidden="true"></i> Expense</strong></a></li>
                    </ul>
                    <label for="return-btn" class="middle"></label>
                    <a class="button alert return-click middle" id="return-btn"><i class="fa fa-arrow-left" aria-hidden="true"></i> Return</a>
                </div>
                <div class="medium-10 columns">
                    <div class="tabs-content vertical" data-tabs-content="program-tabs">
                        <!-- Dashboard -->
                        <div class="tabs-panel is-active" id="dashboard">
                            <form data-abide>
                                <div class="row">
                                    <div class="small-5 columns">
                                        <label for="allocate-budget" class="text-left middle"><strong>880,000,000.00PHP (not allocated)</strong></label>
                                    </div>
                                    <div class="small-7 columns end">
                                        <a class="button success hide" href="#" id="allocate-budget">Allocate Budget <i class="fa fa-calculator" aria-hidden="true"></i></a>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="medium-5 columns">
                                        <label for="review" class="text-left middle"><strong>Laguna Teaching Program is over expending!</strong></label>
                                    </div>
                                    <div class="medium-7 columns end">
                                        <a class="button success hide" href="#" id="review">Review <i class="fa fa-book" aria-hidden="true"></i></a>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="small-4 columns">
                                        <label class="text-right middle"></label>
                                    </div>
                                    <div class="small-1 columns">
                                        <label for="from-date" class="text-right middle">From</label>
                                    </div>
                                    <div class="small-3 columns">
                                        <input type="date" id="from-date" placeholder="">
                                    </div>
                                    <div class="small-1 columns">
                                        <label for="to-date" class="text-right middle">To</label>
                                    </div>
                                    <div class="small-3 columns end">
                                        <input type="date" id="to-date" placeholder="">
                                    </div>
                                </div>
                                <div class="row">
                                    <label class="text-right middle"></label>
                                </div>
                                <div class="row">
                                    <div class="small-3 columns">
                                        <label class="text-right middle"></label>
                                    </div>
                                    <div class="small-4 columns end" id="pie-canvas" style="width:50%">
                                        <canvas id="pie-chart"></canvas>
                                    </div>
                                </div>
                                <div class="row">
                                    <label class="text-right middle"></label>
                                </div>
                                <div class="row">
                                    <div class="small-1 columns">
                                        <label class="text-right middle"></label>
                                    </div>
                                    <div class="small-5 columns end" id="bar-canvas" style="width:75%">
                                        <canvas id="bar-chart"></canvas>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <!-- Budget Tab -->
                        <div class="tabs-panel" id="budget">
                            <div class="row">
                                <div class="small-5 columns">
                                    <a id="add-activity" class="button success" data-toggle="activity-form">Add Activity <i class="fa fa-plus"></i></a>
                                </div>
                                <div class="small-5 columns text-right">
                                    <div class="input-group">
                                        <input class="input-group-field" type="text" ng-model="programBudgetFilter">
                                        <div class="input-group-button">
                                            <input type="submit" class="button" value="Search">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div data-toggler data-animate="slide-in-down slide-out-up" class="row callout secondary ease" id="activity-form" style="display: none">
                                <div class="row">
                                    <div class="small-12 columns end">
                                        <h5 class="text-left"><strong>Manage Activities</strong></h5>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="small-3 columns">
                                        <label class="text-right middle">Activity Name</label>
                                    </div>
                                    <div class="small-7 columns end">
                                        <selectize data-list="false" data-attr="id" config='activityTypeSelectConfig' options='activityTypeList' ng-model="activityTypeSelectizeModel"></selectize>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="small-3 columns text-right">
                                        <label for="activity-budget" class="middle">Budget</label>
                                    </div>
                                    <div class="small-3 columns">
                                        <input type="number" id="activity-budget" placeholder="Budget">
                                    </div>
                                    <div class="small-2 columns">
                                        <label class="text-right middle">Activity Type</label>
                                    </div>
                                    <div class="small-2 columns end text-right">
                                        <select id="activity-code">
                                            <option ng-repeat="code in activityCodeList" value="{{code.id}}">{{code.value}}</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="small-6 columns text-right">
                                        <label class="middle"></label>
                                    </div>
                                    <div class="small-2 columns text-right">
                                        <label for="remaining-budget" class="middle">Remaining Budget</label>
                                    </div>
                                    <div class="small-2 columns text-right end">
                                        <input type="number" id="remaining-budget" disabled>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="small-6 small-centered columns">
                                        <a class="button success expanded" id="add-activity-btn" ng-click="addActivityToProgram()">Add Activity <i class="fa fa-plus"></i></a>
                                    </div>
                                </div>
                            </div>
                            <div data-toggler data-animate="slide-in-down slide-out-up" class="row callout secondary ease" id="update-activity-form" style="display: none">
                                <div class="row">
                                    <div class="small-12 columns end">
                                        <h5 class="text-left"><strong>Manage Activities</strong></h5>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="small-3 columns">
                                        <label class="text-right middle">Activity Name</label>
                                    </div>
                                    <div class="small-7 columns end">
                                        <selectize data-list="false" data-attr="id" config='activityTypeSelectConfig' options='activityTypeList' ng-model="selectedActivity.activityTypeId"></selectize>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="small-3 columns text-right">
                                        <label for="activity-budget" class="middle">Budget</label>
                                    </div>
                                    <div class="small-3 columns">
                                        <input type="number" placeholder="Budget" ng-model="selectedActivity.amount">
                                    </div>
                                    <div class="small-2 columns">
                                        <label class="text-right middle">Activity Type</label>
                                    </div>
                                    <div class="small-2 columns end text-right">
                                        <select ng-model="selectedActivity.activityCodeId" ng-options="code.id as code.value for code in activityCodeList">
                                        </select>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="small-6 columns text-right">
                                        <label class="middle"></label>
                                    </div>
                                    <div class="small-2 columns text-right">
                                        <label for="update-remaining-budget" class="middle">Remaining Budget</label>
                                    </div>
                                    <div class="small-2 columns text-right end">
                                        <input type="number" id="update-remaining-budget" disabled>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="small-6 small-centered columns">
                                        <a class="button success expanded" id="update-activity-btn" ng-click="addActivityToProgram()">Update Activity <i class="fa fa-plus"></i></a>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="small-12 columns">
                                    <table class="hover" id="program-budget-view">
                                        <thead>
                                            <tr>
                                                <th>Activity Name</th>
                                                <th>Type</th>
                                                <th>Budget</th>
                                                <th>Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr dir-paginate="activity in selectedProgram.activities | filter:programBudgetFilter | itemsPerPage: 5" pagination-id="program-activity" data-activity-id="{{activity.id}}" ng-click="selectActivityProgram(activity.id)">
                                                <td>{{activity.activityName}}</td>
                                                <td>{{activity.activityCodeName}}</td>
                                                <td>{{activity.displayAmount}}</td>
                                                <td><a class="button alert"><i class="fa fa-minus"></i></a></td>
                                            </tr>
                                        </tbody>
                                        <tbody>
                                            <tr data-toggle="update-activity-form">
                                                <td>Test1</td>
                                                <td>Test2</td>
                                                <td>Test3</td>
                                                <td><a class="button alert"><i class="fa fa-minus"></i></a></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <ul class="pagination text-center" role="navigation" aria-label="Pagination">
                                <dir-pagination-controls pagination-id="program-activity" boundary-links="true"></dir-pagination-controls>
                            </ul>
                        </div>

                        <!-- Expense Tab -->
                        <div class="tabs-panel" id="expense">
                            <div class="row" id="expense-table">
                                <div class="row">
                                    <div class="small-5 columns">
                                    </div>
                                    <div class="small-5 columns text-right">
                                        <div class="input-group">
                                            <input class="input-group-field" type="text">
                                            <div class="input-group-button">
                                                <input type="submit" class="button" value="Search">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="small-12 columns">
                                        <table class="hover">
                                            <thead>
                                                <tr>
                                                    <th>Activity Name</th>
                                                    <th>Type</th>
                                                    <th>Total Expense</th>
                                                    <th>Actions</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr id="particulars-row">
                                                    <td>Test1</td>
                                                    <td>Test2</td>
                                                    <td>Test3</td>
                                                    <td>Test4</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <ul class="pagination text-center" role="navigation" aria-label="Pagination">
                                    <li class="pagination-previous disabled">Previous</li>
                                    <li class="current"><span class="show-for-sr">You're on page</span> 1</li>
                                    <li><a href="#" aria-label="Page 2">2</a></li>
                                    <li><a href="#" aria-label="Page 3">3</a></li>
                                    <li><a href="#" aria-label="Page 4">4</a></li>
                                    <li class="ellipsis"></li>
                                    <li><a href="#" aria-label="Page 12">12</a></li>
                                    <li><a href="#" aria-label="Page 13">13</a></li>
                                    <li class="pagination-next"><a href="#" aria-label="Next page">Next</a></li>
                                </ul>
                            </div>
                            <div class="row collapse hide" id="particulars-table">
                                <div class="row">
                                    <div class="small-3 columns">
                                        <a class="button alert" id="return-expense"><strong><i class="fa fa-angle-left" aria-hidden="true"></i></strong></a>
                                    </div>
                                    <div class="small-2 columns">
                                    </div>
                                    <div class="small-5 columns text-right">
                                        <div class="input-group">
                                            <input class="input-group-field" type="text">
                                            <div class="input-group-button">
                                                <input type="submit" class="button" value="Search">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row collapse">
                                    <div class="small-12 columns">
                                        <table class="hover">
                                            <thead>
                                            <tr>
                                                <th>Particular Name</th>
                                                <th>Program</th>
                                                <th>Budget</th>
                                                <th>CV#</th>
                                                <th>Check/Ref#</th>
                                                <th>Expense</th>
                                                <th>Receipt</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>Transportation Expense</td>
                                                    <td>CYP</td>
                                                    <td>Transportation</td>
                                                    <td>001</td>
                                                    <td>001</td>
                                                    <td>10,000.00PHP</td>
                                                    <td><a class="button success">View</a></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <ul class="pagination text-center" role="navigation" aria-label="Pagination">
                                    <li class="pagination-previous disabled">Previous</li>
                                    <li class="current"><span class="show-for-sr">You're on page</span> 1</li>
                                    <li><a href="#" aria-label="Page 2">2</a></li>
                                    <li><a href="#" aria-label="Page 3">3</a></li>
                                    <li><a href="#" aria-label="Page 4">4</a></li>
                                    <li class="ellipsis"></li>
                                    <li><a href="#" aria-label="Page 12">12</a></li>
                                    <li><a href="#" aria-label="Page 13">13</a></li>
                                    <li class="pagination-next"><a href="#" aria-label="Next page">Next</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    <script src="js/vendor/what-input.js"></script>
    <script src="js/vendor/foundation.min.js"></script>
    <script src="js/evey-1.0.js"></script>
    <script src="js/Chart.min.js"></script>
    <script src="js/motion-ui.min.js"></script>
    <script>
        $(document).foundation();

        $(document).ready(function(){

            var pieChartData = {
                labels: ["Expense", "Remaining Budget"],
                datasets: [{
                    backgroundColor: ["#F7464A","#00e600"],
                    data: [1000000,100000000]
                }]

            };
            var barChartData = {
                labels: ["Laguna Teaching Program", "Fairview Teaching Program"],
                datasets: [{
                    label: 'forecast',
                    backgroundColor: "rgba(220,220,220,0.5)",
                    data: [20000,70000]
                }, {
                    label: 'actuals',
                    backgroundColor: "rgba(151,187,205,0.5)",
                    data: [40000,50000]
                }]

            };


            var ctxPie = document.getElementById("pie-chart").getContext("2d");
            var pie = new Chart(ctxPie, {
                type: 'pie',
                data: pieChartData,
                options: {
                    responsive: true,
                    legend: {
                        position: 'right',
                    },
                    title: {
                        display: true,
                        position: 'left',
                        text: 'Budget Chart'
                    }
                }
            });

            var ctxBar = document.getElementById("bar-chart").getContext("2d");
            var bar = new Chart(ctxBar, {
                type: 'bar',
                data: barChartData,
                options: {
                    elements: {
                        rectangle: {
                            borderWidth: 2,
                            borderColor: 'rgb(0, 255, 0)',
                            borderSkipped: 'bottom'
                        }
                    },
                    responsive: true,
                    legend: {
                        position: 'right',
                    },
                    title: {
                        display: true,
                        text: 'Expense Chart'
                    }
                }
            });
        }).on("click",".row-onclick",function(){
            $("#home-page").addClass("hide");
            $("#view-program").removeClass("hide");
        });

        $("#return-btn").click(function(){
            $("#home-page").removeClass("hide");
            $("#view-program").addClass("hide");
        });

        $("#particulars-row").click(function(){
            $("#particulars-table").removeClass("hide");
            $("#expense-table").addClass("hide");
        });

        $("#return-expense").click(function(){
            $("#particulars-table").addClass("hide");
            $("#expense-table").removeClass("hide");
        });

    </script>
  </body>
</html>
